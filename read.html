<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="icon" type="image/x-icon" href="library/logoo.ico" />
	<!--[if IE]><link rel="shortcut icon" type="image/x-icon" href="favicon.ico" /><![endif]-->
	<title>Regardez Gintama</title>
	<script src='nikolib.js'></script>
</head>

<body>

	<span onclick="plusdix()" id='num'>1 </span>
	<div id='menu'>
		<a id=back href="index.html"> Back</a>

		<div class="div-select col-xs-2 col-lg-2">

			<select id="pages" size= "total">
				
				<option value="1">Page 1</option>
				<option value="2">Page 2</option>
				<option value="3">Page 3</option>
				<option value="4">Page 4</option>
				<option value="5">Page 5</option>
				<option value="6">Page 6</option>
				<option value="7">Page 7</option>
				<option value="8">Page 8</option>
				<option value="9">Page 9</option>
				<option value="10">Page 10</option>
				<option value="11">Page 11</option>
				<option value="12">Page 12</option>
				<option value="13">Page 13</option>
				<option value="14">Page 14</option>
				<option value="15">Page 15</option>
				<option value="16">Page 16</option>
				<option value="17">Page 17</option>
				<option value="18">Page 18</option>
				<option value="19">Page 19</option>
				<option value="20">Page 20</option>
				<option value="21">Page 21</option>
				<option value="22">Page 22</option>
				<option value="23">Page 23</option>
				<option value="24">Page 24</option>
				<option value="25">Page 25</option>
				<option value="26">Page 26</option>
				<option value="27">Page 27</option>
				<option value="28">Page 28</option>
				<option value="29">Page 29</option>
				<option value="30">Page 30</option>
				<option value="31">Page 31</option>
				<option value="32">Page 32</option>
				<option value="33">Page 33</option>
				<option value="34">Page 34</option>
				<option value="35">Page 35</option>
				<option value="36">Page 36</option>
				<option value="37">Page 37</option>
				<option value="38">Page 38</option>
				
			</select>

		</div>

	</div>


	<div id='plaque' onclick='zoom()'></div>
	<img src=''>
	<div id='left' onclick='change("+")' class='button'></div>
	<div id='right' onclick='change("-")' class='button'></div>

</body>
<script>
	var lang = 'jp';
	var page = 1;
	





	var zoomed = false;
	var total = $_GET('total');
	var niconiconii = $_GET('niconiconii');
	document.getElementsByTagName('img')[0].style.height = '98vh';
	var windowX = window.innerWidth;
	if (windowX < 612) {
		document.getElementById('right').style.opacity = '0%';
		document.getElementById('left').style.opacity = '0%';
		document.getElementById('plaque').onclick = function () { switchlang() };

	}
	document.getElementsByTagName('img')[0].src = 'library/' + niconiconii + '/' + lang + '/' + 'A (' + page + ')' + '.png';
		document.getElementById('num').innerHTML = page;
	function change(symb) {
		if (symb == '+') {
			if (page < total) {
				page++;
				document.querySelector("#pages").value = page;
			}
		}  else if (symb == '='){
			page = page
		} else {
			if (page != 1) {
				page--;
				document.querySelector("#pages").value = page;

			}
		}
		document.getElementsByTagName('img')[0].src = 'library/' + niconiconii + '/' + lang + '/' + 'A (' + page + ')' + '.png';
		document.getElementById('num').innerHTML = page;
	}
	var superbe = document.querySelector("#pages")

	superbe.addEventListener('change', () => {
		console.log('Select change');
		console.log(superbe.value);
		choice();
	});

	function choice() {
		var truc = document.querySelector("#pages").value;
		var choix = document.getElementsByTagName('img')[0].src = 'library/' + niconiconii + '/' + lang + '/' + 'A (' + truc + ')' + '.png';
		page = document.querySelector("#pages").value;
		if(superbe.value > 9){
			change('=');
		} else {
			change('=');
		}
		

	}



	function plusdix() {
		if (page == 1 && page <= total - 9) {
			page = page + 8;
		} else if (page <= total - 9) {
			page = page + 9;
		}
		change('+');

	}
	function isMobile() { return ('ontouchstart' in document.documentElement); }

	function zoom() {
		if (isMobile()) return;

		if (zoomed == false) {
			document.getElementsByTagName('img')[0].style.height = '200vh';
			document.getElementById('plaque').style.height = '200vh';
			zoomed = true;
		} else {
			document.getElementsByTagName('img')[0].style.height = '98vh';
			document.getElementById('plaque').style.height = '98vh';
			zoomed = false;
		}
	}



	document.addEventListener("keydown", (e) => {
		if (e.keyCode == '37') {
			change('+');
		}

		if (e.keyCode == '39') {
			change('-');
		}

		if (e.keyCode == '13') {
			switchlang();
		}
	});

	

</script>

</html>